<div ng-init="offCanvas=false" class="row row-offcanvas row-offcanvas-left" ng-class="{active: offCanvas}">
  <div class="col-xs-6 col-sm-2 sidebar-offcanvas" id="sidebar">
    <ul class="nav navbar-stacked">
      <li role="presentation" route-active="accounts/{{id_rs}}/activity">
        <a href="#/accounts/{{id_rs}}/activity/{{paramPeriod}}">
          <i class="fa fa-book"></i>&nbsp;&nbsp;<span translate="translate.activity"/>
        </a>
      </li>
      <!-- <li role="presentation" route-active="messenger/{{id_rs}}" ng-show="isCurrentAccount(id_rs)">
        <a href="#/messenger/{{id_rs}}/gossip">
          <i class="fa fa-comment-o"></i>&nbsp;&nbsp;<span translate="translate.messenger"/>
        </a>
      </li> -->      
      <li role="presentation" route-active="accounts/{{id_rs}}/pulse">
        <a href="#/accounts/{{id_rs}}/pulse/{{paramPeriod}}">
          <i class="fa fa-heartbeat"></i>&nbsp;&nbsp;<span translate="translate.pulse"/>
        </a>
      </li>
      <li role="presentation" ng-hide="isCurrentAccount(id_rs)">
        <a ng-if="!following" href ng-click="followUser()" translate="translate.follow_me"></a>
        <a ng-if="following" href ng-click="unFollowUser()" translate="translate.un_follow_me"></a>
      </li>
      <!-- <li role="presentation">
        <a href ng-click="sendMoney()" translate="translate.send_money" translate-values="{ symbol: symbol}"></a>
      </li>
      <li role="presentation">
        <a href ng-click="sendMessage()" translate="translate.send_message"></a>
      </li> -->
      <!-- <li role="presentation" >
        <a href ng-click="tipUser()" translate="translate.tip_me"></a>
      </li> -->
      <li>
        <a href ng-init="moreCollapse=(isCurrentAccount(id_rs))" ng-click="moreCollapse=!moreCollapse" ng-show="isCurrentAccount(id_rs)">
          <span translate="translate.more"/>&nbsp;<span class="caret"></span>
        </a>
        <ul class="nav navbar-stacked" collapse="moreCollapse">
          <li role="presentation" route-active="accounts/{{id_rs}}/messages" ng-hide="TRADE_UI_ONLY">
            <a href="#/accounts/{{id_rs}}/messages/{{paramPeriod}}">
              <i class="fa fa-comments-o"></i>&nbsp;&nbsp;<span translate="translate.messages"/>
            </a>
          </li>
          <li role="presentation" route-active="accounts/{{id_rs}}/assets">
            <a href="#/accounts/{{id_rs}}/assets/{{paramPeriod}}">
              <i class="fa fa-line-chart"></i>&nbsp;&nbsp;<span translate="translate.assets"/>
            </a>
          </li>
          <li role="presentation" route-active="accounts/{{id_rs}}/currency" ng-hide="TRADE_UI_ONLY">
            <a href="#/accounts/{{id_rs}}/currency/{{paramPeriod}}">
              <i class="fa fa-money"></i>&nbsp;&nbsp;<span translate="translate.currencies"/>
            </a>
          </li>
          <li role="presentation" route-active="accounts/{{id_rs}}/blocks" ng-hide="TRADE_UI_ONLY">
            <a ng-href="#/accounts/{{id_rs}}/blocks/{{paramPeriod}}" role="menuitem">
              <i class="fa fa-cubes"></i>&nbsp;&nbsp;<span translate="translate.blocks_forged"/>
            </a>
          </li>
          <li role="presentation" route-active="accounts/{{id_rs}}/aliases" ng-hide="TRADE_UI_ONLY">
            <a ng-href="#/accounts/{{id_rs}}/aliases/{{paramPeriod}}" role="menuitem">
              <i class="fa fa-gear"></i>&nbsp;&nbsp;<span translate="translate.aliases"/>
            </a>
          </li>
          <li role="presentation" route-active="accounts/{{id_rs}}/fim_aliases" ng-hide="TRADE_UI_ONLY">
            <a ng-href="#/accounts/{{id_rs}}/fim_aliases/{{paramPeriod}}" role="menuitem">
              <i class="fa fa-gears"></i>&nbsp;&nbsp;<span translate="translate.namespaced_aliases"/>
            </a>
          </li>
          <li role="presentation" route-active="accounts/{{id_rs}}/goods" ng-hide="TRADE_UI_ONLY">
            <a ng-href="#/accounts/{{id_rs}}/goods/{{paramPeriod}}" role="menuitem">
              <i class="fa fa-shopping-cart"></i>&nbsp;&nbsp;<span translate="translate.goods"/>
            </a>
          </li>
          <li role="presentation" route-active="accounts/{{id_rs}}/leasing" ng-hide="TRADE_UI_ONLY">
            <a ng-href="#/accounts/{{id_rs}}/leasing/{{paramPeriod}}" role="menuitem">
              <i class="fa fa-university"></i>&nbsp;&nbsp;<span translate="translate.balance_leasing"/>
            </a>
          </li>
          <li role="presentation" route-active="accounts/{{id_rs}}/sell_orders" ng-hide="TRADE_UI_ONLY">
            <a ng-href="#/accounts/{{id_rs}}/sell_orders/{{paramPeriod}}" role="menuitem">
              <i class="fa fa-paper-plane"></i>&nbsp;&nbsp;<span translate="translate.sell_orders"/>
            </a>
          </li>
          <li role="presentation" route-active="accounts/{{id_rs}}/buy_orders" ng-hide="TRADE_UI_ONLY">
            <a ng-href="#/accounts/{{id_rs}}/buy_orders/{{paramPeriod}}" role="menuitem">
              <i class="fa fa-shopping-cart"></i>&nbsp;&nbsp;<span translate="translate.buy_orders"/>
            </a>
          </li>
          <!-- mass pay -->
          <li role="presentation" route-active="accounts/{{id_rs}}/payments" ng-hide="TRADE_UI_ONLY || !isCurrentAccount(id_rs)">
            <a ng-href="#/accounts/{{id_rs}}/payments/latest" role="menuitem">
              <i class="fa fa-diamond"></i>&nbsp;&nbsp;<span translate="translate.payments"/>
            </a>
          </li>          
        </ul>
      </li>
      <li ng-if="isCurrentAccount(id_rs)">
        <a href ng-init="accountCollapse=true" ng-click="accountCollapse=!accountCollapse">
          <span translate="translate.account"/>&nbsp;<span class="caret"></span>
        </a>
        <ul class="nav navbar-stacked" collapse="accountCollapse">
          <li ng-repeat="t in transactions">
            <a href ng-click="executeTransaction(t.id)">{{t.label}}</a>
          </li>
          <li>
            <a href="#/goods/{{id_rs}}/listing" translate="translate.marketplace"></a>
          </li>
        </ul>
      </li>      
      <li ng-show="showFilter">
        <hr class="stacked-divider">
      </li>
      <li ng-show="showFilter">
        <a href ng-init="filterCollapse=true" ng-click="filterCollapse=!filterCollapse">
          <span class="glyphicon glyphicon-wrench"></span>
          &nbsp;&nbsp;<span translate="translate.filter"/>&nbsp;<span class="caret"></span>
        </a>
        <ul class="nav navbar-stacked" collapse="filterCollapse">
          <li>
            <form class="navbar-form" role="search">
              <div class="form-group">
                <span class="form-control-static">
                  <label class="control-label" translate="translate.period"></label>
                  <div class="input-group">
                    <input type="text" class="form-control" datepicker-popup="{{format}}" ng-model="dt" is-open="opened" 
                        min-date="minDate" max-date="maxDate" datepicker-options="dateOptions" ng-required="true" 
                        translate-cloak 
                        close-text="{{ 'translate.close' | translate }}" placeholder="{{'translate.period' | translate}}"/>
                    <span class="input-group-btn">
                      <button type="button" class="btn btn-default" ng-click="openDatePicker($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                    </span>
                  </div>
                </span>
              </div>
            </form>
          </li>
          <li ng-show="showTransactionFilter">
            <form class="navbar-form" role="search">
              <div class="form-group" style="width:100%">
                <label class="control-label" translate="translate.transaction_type"></label>
                <span class="form-control-static">
                  <div class="panel panel-default">
                    <div class="panel-body">
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.all" ng-change="filterAllChanged()">
                          <span translate="filter.all"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.payments" ng-change="filterChanged()">
                          <span translate="filter.payments"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.messages" ng-change="filterChanged()">
                          <span translate="filter.messages"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.aliases" ng-change="filterChanged()">
                          <span translate="filter.aliases"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.namespacedAliases" ng-change="filterChanged()">FIMKrypto</label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.accountInfo" ng-change="filterChanged()">
                          <span translate="filter.account_info"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.announceHub" ng-change="filterChanged()">
                          <span translate="filter.announce_hub"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.polls" ng-change="filterChanged()">
                          <span translate="filter.polls"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.goodsStore" ng-change="filterChanged()">
                          <span translate="filter.goods_store"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.balanceLeasing" ng-change="filterChanged()">
                          <span translate="filter.balanace_leasing"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.trades" ng-change="filterChanged()">
                          <span translate="filter.trades"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.assetIssued" ng-change="filterChanged()">
                          <span translate="filter.asset_issued"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.assetTransfer" ng-change="filterChanged()">
                          <span translate="filter.asset_transfer"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.assetOrder" ng-change="filterChanged()">
                          <span translate="filter.asset_order"/></label>
                      </div>
                      <!-- Currency -->
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.currencyIssued" ng-change="filterChanged()">
                          <span translate="filter.currency_issued"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.currencyTransfer" ng-change="filterChanged()">
                          <span translate="filter.currency_transfer"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.currencyOther" ng-change="filterChanged()">
                          <span translate="filter.currency_other"/></label>
                      </div>    
                    </div>
                  </div>
                </span>
              </div>
            </form>
          </li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="col-xs-12 col-sm-10">
    <p class="visible-xs">
      <button type="button" class="btn btn-xs" ng-class="{'btn-default':offCanvas, 'btn-primary':!offCanvas}" 
            ng-click="offCanvas=!offCanvas">
        <i class="fa fa-angle-double-{{offCanvas?'left':'right'}}"></i>
        <i class="fa fa-angle-double-{{offCanvas?'left':'right'}}"></i>
        <i class="fa fa-angle-double-{{offCanvas?'left':'right'}}"></i>
      </button>
    </p>

    <div class="row">
      <div class="col-md-6">
        <div class="media">
          <span class="pull-left">
            <a style="width: 100px">
              <i class="fa fa-user fa-5x text-muted"></i>
            </a>
          </span>
          <div class="media-body" style="min-height: 120px">
            <h4 class="media-heading">{{account.name||id_rs}}<small ng-if="account.name"><br>{{id_rs}}</small></h4>
            <p>{{account.description}}<span ng-if="!account.description">no description</span></p>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="btn-group" style="margin-bottom: 8px" ng-if="!currentAccount">
          <a href="#/login-to" class="btn btn-primary"><b translate="translate.sign_in"></b></a>          
        </div>
        <div class="table-responsive">
          <table class="table table-condensed">
            <tr><td>Balance</td><td><b>{{account.balanceNXT}}</b></td><td colspan="2"><a ng-href="#/accounts/{{id_rs}}/activity/latest">{{id_rs}}</a></td></tr>
            <tr><td>Forged</td><td>{{account.forgedBalanceNXT}}</td><td>Effective</td><td>{{account.effectiveBalanceNXT}}</td></tr>
            <tr><td>Guaranteed</td><td>{{account.guaranteedBalanceNXT}}</td><td>Unconfirmed</td><td>{{account.unconfirmedBalanceNXT}}</td></tr>
            <tr ng-if="account.lesseeIdRS">
              <td>Lease</td>
              <td>{{account.leaseRemaining}} remain</td>
              <td colspan="2">
                <a href="#/accounts/{{account.lesseeIdRS}}/leasing/latest">{{account.lesseeIdRS}}</a>
              </td>
            </tr>
            <tr ng-if="forger.isForging">
              <td>Forging</td>
              <td><i class="fa fa-circle-o-notch fa-spin text-success"></i></td>
              <td colspan="2">Expected to forge block in {{forger.remaining}}&nbsp;|&nbsp;<a ng-href="#/accounts/{{id_rs}}/blocks/latest">history</a></td>
            </tr>            
            <!-- <tr>
              <td colspan="2"><a href ng-click="sendMoney()">Send me {{symbol}}</a></td>
              <td colspan="2"><a href ng-click="sendMessage()">Send me a message</a></td>
            </tr> -->
          </table>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-12">

        <!-- Pulse -->

        <div ng-if="paramSection=='pulse'">
          <div class="row">
            <div class="col-md-12">
              <div ng-if="provider.entities.length == 0">
                <p>{{account.name||id_rs}} did not write any posts</p>
                <button class="btn btn-primary" ng-click="writePost()">Write first post</button>
              </div>
              <div ng-if="provider.entities.length > 0">
                <!-- <div infinite-scroll="provider.loadMore()" infinite-scroll-distance="0" infinite-scroll-immediate-check="false"> -->
                <div>
                  
                  <!-- List all posts -->
                  <ul class="media-list">
                    <li class="media" ng-repeat="p in provider.entities">
                      <a class="pull-left" style="width: 100px">
                        <i class="fa fa-pencil-square-o fa-5x text-muted"></i>
                        <div class="pull-right">
                          <span ng-if="p.confirmations < 0"><i class="fa fa-spinner fa-spin text-muted"></i></span>
                          <span ng-if="p.confirmations >= 0 && p.confirmations <= 10" class="text-danger"><b>{{p.confirmations}}</b></span>
                          <span ng-if="p.confirmations > 10" tooltip="{{p.confirmations}} confirmations">
                            <i class="fa fa-check text-success"></i>
                          </span>
                        </div>
                      </a>
                      <div class="media-body">
                        <h4 class="media-heading"><small>{{p.date}}&nbsp;&nbsp;
                          <a href><i class="fa fa-twitter text-muted"></i></a>&nbsp;&nbsp;
                          <a href><i class="fa fa-facebook text-muted"></i></a>&nbsp;&nbsp;
                          <a href><i class="fa fa-linkedin text-muted"></i></a>&nbsp;&nbsp;
                          <a href><i class="fa fa-google-plus text-muted"></i></a></small>
                        </h4>
                        <p>{{p.message}}</p>
                        <p>
                          <button class="btn btn-sm btn-primary" ng-click="writeComment(p.transaction)">
                            <i class="fa fa-comment-o"></i>&nbsp;&nbsp;{{p.comment_count}}&nbsp;&nbsp;<span translate="translate.leave_comment"/>
                          </button>
                          &nbsp;
                          <a href ng-click="p.commentProvider.reload()" 
                              ng-if="p.comment_count > 0 && p.commentProvider.entities.length == 0">
                            <span ng-show="p.commentProvider.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
                            <span translate="translate.load_comments" />
                          </a>
                          <a href ng-click="p.commentProvider.clear()" 
                              ng-if="p.comment_count > 0 && p.commentProvider.entities.length > 0">
                            <span translate="translate.hide_comments" />
                          </a>                          
                        </p>
                        <br>

                        <!-- comments -->
                        <div ng-if="p.commentProvider.entities.length > 0">
                          <div class="media" ng-repeat="c in p.commentProvider.entities">
                            <a class="pull-left">
                              <i class="fa fa-user fa-5x text-muted"></i>
                              <div class="pull-right">
                                <span ng-if="c.confirmations < 0"><i class="fa fa-spinner fa-spin text-muted"></i></span>
                                <span ng-if="c.confirmations >= 0 && c.confirmations <= 10" class="text-danger"><b>{{c.confirmations}}</b></span>
                                <span ng-if="c.confirmations > 10" tooltip="{{c.confirmations}} confirmations">
                                  <i class="fa fa-check text-success"></i>
                                </span>
                              </div>                                
                            </a>
                            <div class="media-body">
                              <h4 class="media-heading"><small><a ng-href="#/accounts/{{c.senderRS}}/pulse/latest">{{c.senderName||c.senderRS}}</a>&nbsp;&nbsp;{{c.date}}&nbsp;&nbsp;
                                <a href><i class="fa fa-twitter text-muted"></i></a>&nbsp;&nbsp;
                                <a href><i class="fa fa-facebook text-muted"></i></a>&nbsp;&nbsp;
                                <a href><i class="fa fa-linkedin text-muted"></i></a>&nbsp;&nbsp;
                                <a href><i class="fa fa-google-plus text-muted"></i></a></small>
                              </h4>
                              <p>{{c.text}}</p>
                            </div>
                          </div>  
                          <div class="load-more-button" ng-show="p.commentProvider.hasMore">
                            <a href ng-click="p.commentProvider.loadMore()" class="text-lowercase text-muted">
                              <span ng-show="p.commentProvider.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
                              <span translate="translate.load_more_comments"></span>
                            </a>
                          </div>
                        </div>
                      </div>
                    </li>
                  </ul>
                </div>
                <div class="load-more-button" ng-show="provider.hasMore">
                  <a href ng-click="provider.loadMore()" class="text-lowercase text-muted">
                    <span ng-show="provider.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
                    <span translate="translate.load_more_posts"></span>
                  </a>
                </div>
              </div>
            </div>
          </div>          
        </div>

        <!-- Activity -->

        <div ng-if="paramSection=='activity'">
          <div ng-if="!provider.entities.length">
            <div ng-if="provider.isLoading">
              Loading please wait&nbsp;&nbsp;<i class="fa fa-refresh fa-spin"></i>
            </div>
            <div ng-if="!provider.isLoading">
              <span translate="translate.no_activities" translate-values="{user: (account.name||id_rs)}"/>
            </div>
          </div>
          <div ng-if="provider.entities.length > 0">
            <div infinite-scroll="provider.loadMore()" infinite-scroll-distance="0" infinite-scroll-immediate-check="false">
              <div class="table-responsive">
                <table class="table table-striped">
                  <tbody>
                    <tr ng-repeat="a in provider.entities">
                      <td>
                        <span ng-if="a.transient" tooltip="Transient (will disapear)">
                          <i class="fa fa-clock-o text-muted"></i>
                        </span>
                        <span ng-if="!a.transient">
                          <span ng-if="a.confirmations <= 0">
                            <i class="fa fa-spinner fa-spin text-muted"></i>
                          </span>
                          <span ng-if="a.confirmations > 0 && a.confirmations <= 10" class="text-danger">
                            <b>{{a.confirmations}}</b>
                          </span>
                          <span ng-if="a.confirmations > 10" tooltip="{{a.confirmations}} confirmations">
                            <i class="fa fa-check text-success"></i>
                          </span>
                        </span>
                      </td>
                      <td nowrap style="padding-left: 0px" class="hidden-xs text-muted">{{a.date}}</td>
                      <td style="word-wrap: break-word; word-break: break-all; white-space: normal; width: 100%;" 
                        ng-if="!IS_SMALL_DEVICE" ng-bind-html="a.renderedHTML"></td>
                      <td style="word-wrap: break-word; word-break: break-all; white-space: normal; width: 100%;" 
                        ng-if="IS_SMALL_DEVICE">
                        <div>
                          <span ng-bind-html="a.renderedHTML"></span>
                          <small class="pull-right">{{a.date}}</small>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="load-more-button" ng-show="provider.hasMore">
              <a href ng-click="provider.loadMore()" class="text-lowercase text-muted">
                <span ng-show="provider.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
                <span translate="translate.load_more_activities"></span>
              </a>
            </div>
          </div>
        </div>

        <!-- Messages -->

        <div ng-if="paramSection=='messages'">
          <div infinite-scroll="provider.loadMore()" infinite-scroll-distance="0" infinite-scroll-immediate-check="false">
            <div class="table-responsive">
              <table class="table table-striped">
                <tbody>
                  <tr ng-repeat="m in provider.entities">
                    <td nowrap style="padding-left: 0px" class="hidden-xs text-muted">{{m.date}}</td>
                    <td style="word-wrap: break-word; word-break: break-all; white-space: normal; width: 100%;" 
                      ng-if="!IS_SMALL_DEVICE" ng-bind-html="m.renderedHTML"></td>
                    <td style="word-wrap: break-word; word-break: break-all; white-space: normal; width: 100%;" 
                      ng-if="IS_SMALL_DEVICE">
                      <div>
                        <span ng-bind-html="m.renderedHTML"></span>
                        <small class="pull-right">{{m.date}}</small>
                      </div>
                    </td>                      
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="load-more-button" ng-show="provider.hasMore">
            <a href ng-click="provider.loadMore()" class="text-lowercase text-muted">
              <span ng-show="provider.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
              <span translate="translate.load_more_messages"></span>
            </a>
          </div>
        </div>

        <!-- Assets -->

        <div ng-if="paramSection=='assets'">
          <div infinite-scroll="provider.loadMore()" infinite-scroll-distance="0" infinite-scroll-immediate-check="false">
            <div class="table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr translate-cloak>
                    <th translate="translate.name"></th>
                    <th translate="translate.identifier"></th>
                    <th translate="translate.amount"></th>
                    <th translate="translate.total_supply"></th>
                    <th translate="translate.issuer"></th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="a in provider.entities">
                    <td><a ng-href="#/assets/{{symbol_lower}}/{{a.asset}}/trade">{{a.name}}</a></td>
                    <td><a ng-href="#/assets/{{symbol_lower}}/{{a.asset}}/trade">{{a.asset}}</a></td>
                    <td>{{a.quantity}}</td>
                    <td>{{a.totalQuantity}}</td>
                    <td><a ng-href="#/accounts/{{a.issuer}}/activity/latest">{{a.issuer}}</a></td>
                    <!-- <td><a href ng-click="buyAsset(a)" translate="translate.buy"></a></td>
                    <td><a href ng-click="sellAsset(a)" translate="translate.sell"></a></td> -->
                    <td><a href ng-click="transferAsset(a)" translate="translate.transfer"></a></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>              
          <div class="load-more-button" ng-show="provider.hasMore">
            <a href ng-click="provider.loadMore()" class="text-lowercase text-muted">
              <span ng-show="provider.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
              <span translate="translate.load_more_assets"></span>
            </a>
          </div>
        </div>

        <!-- Currency -->

        <div ng-if="paramSection=='currency'">
          <div infinite-scroll="provider.loadMore()" infinite-scroll-distance="0" infinite-scroll-immediate-check="false">
            <div class="table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr translate-cloak>
                    <th>{{ 'translate.name' | translate }}</th>
                    <th>{{ 'translate.amount' | translate }}</th>
                    <th>{{ 'translate.total_supply' | translate }}</th>
                    <th>{{ 'translate.issuer' | translate }}</th>
                    <th></th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="a in provider.entities">
                    <td><a ng-href="#/currencies/{{symbol_lower}}/{{a.name}}">{{a.name}}</a></td>
                    <td>{{a.units}}</td>
                    <td>{{a.totalUnits}}</td>
                    <td><a ng-href="#/accounts/{{a.issuerAccountRS}}/activity/latest">{{a.issuerAccountRS}}</a></td>
                    <td><a href ng-click="sellCurrency(a)">Sell</a></td>
                    <td><a href ng-click="transferCurrency(a)">Transfer</a></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>              
          <div class="load-more-button" ng-show="provider.hasMore">
            <a href ng-click="provider.loadMore()" class="text-lowercase text-muted">
              <span ng-show="provider.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
              <span translate="translate.load_more_currencies"></span>
            </a>
          </div>           
        </div>

        <!-- Blocks -->

        <div ng-if="paramSection=='blocks'">
          <div class="well" translate="translate.blocks_explained"></div>
          <div ng-if="provider.entities.length > 0">
            <div infinite-scroll="provider.loadMore()" infinite-scroll-distance="0" infinite-scroll-immediate-check="false">
              <div class="table-responsive">
                <table class="table table-striped">
                  <thead>
                    <tr translate-cloak>
                      <th>{{ 'translate.height' | translate }}</th>
                      <th>{{ 'translate.date' | translate }}</th>
                      <th>{{ 'translate.generator' | translate }}</th>
                      <th>{{ 'translate.transactions' | translate }}</th>
                      <th>{{ 'translate.amount' | translate }}</th>
                      <th>{{ 'translate.fee' | translate }}</th>
                      <th>{{ 'translate.block_reward' | translate }}</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr ng-repeat="b in provider.entities">
                      <td>{{b.height}}</td>
                      <td>{{b.date}}</td>
                      <td><a ng-href="#/accounts/{{b.generator}}/activity/latest">{{b.generator}}</a></td>
                      <td>{{b.numberOfTransactions}}</td>
                      <td>{{b.totalAmountNXT}}</td>
                      <td>{{b.totalFeeNXT}}</td>
                      <td>{{b.totalPOSRewardNXT}}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="load-more-button" ng-show="provider.hasMore">
              <a href ng-click="provider.loadMore()" class="text-lowercase text-muted">
                <span ng-show="provider.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
                <span translate="translate.load_more_blocks"></span>
              </a>
            </div>
          </div>
        </div>

        <!-- Aliases -->

        <div ng-if="paramSection=='aliases'">
          <div infinite-scroll="provider.loadMore()" infinite-scroll-distance="0" infinite-scroll-immediate-check="false">
            <div class="table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr translate-cloak>
                    <th style="padding-left: 0px" translate="translate.last_update"></th>
                    <th translate="translate.name"></th>
                    <th colspan="5" translate="translate.uri"></th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="a in provider.entities">
                    <td nowrap style="padding-left: 0px" class="text-muted">{{a.date}}</td>
                    <td>{{a.aliasName}}</td>
                    <td style="width: 100%">{{a.aliasURI}}</td>
                    <td><a href ng-click="editAlias(a)" translate="translate.edit"></a></td>
                    <td><a href ng-click="transferAlias(a)" translate="translate.transfer"></a></td>
                    <!-- <td><a href ng-click="deleteAlias(a)">Delete</a></td> -->
                    <td>
                      <a href ng-show="!a.priceNXT" ng-click="sellAlias(a)" translate="translate.sell"></a>
                      <a href ng-show="a.priceNXT" ng-click="cancelSellAlias(a)" translate="translate.cancel"></a>
                    </td>
                    <td nowrap>
                      <a ng-show="a.priceNXT" href ng-click="buyAlias(a)">
                        {{ 'translate.buy_alias' | translate:"{symbol: symbol, price: a.priceNXT}" }}
                      </a>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="load-more-button" ng-show="provider.hasMore">
            <a href ng-click="provider.loadMore()" class="text-lowercase text-muted">
              <span ng-show="provider.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
              <span translate="translate.load_more_aliases"></span>
            </a>
          </div>
        </div>

        <!-- Namespaced Alias -->

        <div ng-if="paramSection=='fim_aliases'">
          <div infinite-scroll="provider.loadMore()" infinite-scroll-distance="0" infinite-scroll-immediate-check="false">
            <form class="form-inline">
              <div class="form-group">
                <input type="text" ng-model="provider.filter" ng-change="provider.reload()" class="form-control" placeholder="Filter">
              </div>
            </form>
            <div class="table-responsive">
              <table class="table table-striped" style="width: 100%">
                <thead>
                  <tr translate-cloak>
                    <th style="padding-left: 0px" translate="translate.last_update"></th>
                    <th translate="translate.name"></th>
                    <th colspan="2" translate="translate.uri"></th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="a in provider.entities">
                    <td nowrap style="padding-left: 0px" class="text-muted">{{a.date}}</td>
                    <td>{{a.aliasName}}</td>
                    <td style="word-wrap: break-word; word-break: break-all; white-space: normal; width: 100%;">{{a.aliasURI}}</td>
                    <td><a href ng-click="editNSAlias(a)" translate="translate.edit"></a></td>
                    <!-- <td><a href ng-click="deleteNSAlias(a)" translate="translate.delete"></a></td> -->
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="load-more-button" ng-show="provider.hasMore">
            <a href ng-click="provider.loadMore()" class="text-lowercase text-muted">
              <span ng-show="provider.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
              <span translate="translate.load_more_aliases"></span>
            </a>
          </div>
        </div>

        <!-- Digital Goods -->

        <div ng-if="paramSection=='goods'">
        </div>

        <!-- Balance Leasing -->

        <div ng-if="paramSection=='leasing'">
          <div class="well" translate="translate.leasing_explained"></div>          
          <div ng-if="provider.entities.length > 0">
            <div class="table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th translate="translate.name"></th>
                    <th translate="translate.account"></th>
                    <th translate="translate.guaranteed_balance"></th>
                    <th translate="translate.from"></th>
                    <th translate="translate.to"></th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="a in provider.entities">
                    <td><a ng-href="#/accounts/{{a.lessorRS}}/activity/latest">{{a.lessorName}}</a></td>
                    <td><a ng-href="#/accounts/{{a.lessorRS}}/activity/latest">{{a.lessorRS}}</a></td>
                    <td>{{a.guaranteedBalanceNXT}} {{symbol}}</a></td>
                    <td>{{a.currentLeasingHeightFrom}}</a></td>
                    <td>{{a.currentLeasingHeightTo}}</a></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Buy orders -->

        <div ng-if="paramSection=='buy_orders'">
          <div infinite-scroll="provider.loadMore()" infinite-scroll-distance="0" infinite-scroll-immediate-check="false">
            <div class="table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr translate-cloak>
                    <th translate="translate.name"></th>
                    <th translate="translate.identifier"></th>
                    <th translate="translate.order"></th>
                    <th translate="translate.quantity"></th>
                    <th translate="translate.price"></th>
                    <th translate="translate.total"></th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="a in provider.entities">
                    <td><a ng-href="#/assets/{{symbol_lower}}/{{a.asset}}/trade">{{a.name}}</a></td>
                    <td><a ng-href="#/assets/{{symbol_lower}}/{{a.asset}}/trade">{{a.asset}}</a></td>
                    <td>{{a.order}}</td>
                    <td>{{a.quantity}}</td>
                    <td>{{a.price}}</td>
                    <td><a href ng-click="cancelBidOrder(a)">Cancel</a></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>              
          <div class="load-more-button" ng-show="provider.hasMore">
            <a href ng-click="provider.loadMore()" class="text-lowercase text-muted">
              <span ng-show="provider.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
              <span translate="translate.load_more_orders"></span>
            </a>
          </div>
        </div>

        <!-- Sell orders -->

        <div ng-if="paramSection=='sell_orders'">
          <div infinite-scroll="provider.loadMore()" infinite-scroll-distance="0" infinite-scroll-immediate-check="false">
            <div class="table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr translate-cloak>
                    <th>{{ 'translate.name' | translate }}</th>
                    <th>{{ 'translate.identifier' | translate }}</th>
                    <th>{{ 'translate.order' | translate }}</th>
                    <th>{{ 'translate.quantity' | translate }}</th>
                    <th>{{ 'translate.price' | translate }}</th>
                    <th>{{ 'translate.total' | translate }}</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="a in provider.entities">
                    <td><a ng-href="#/assets/{{symbol_lower}}/{{a.asset}}/trade">{{a.name}}</a></td>
                    <td><a ng-href="#/assets/{{symbol_lower}}/{{a.asset}}/trade">{{a.asset}}</a></td>
                    <td>{{a.order}}</td>
                    <td>{{a.quantity}}</td>
                    <td>{{a.price}}</td>
                    <td><a href ng-click="cancelAskOrder(a)">Cancel</a></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>              
          <div class="load-more-button" ng-show="provider.hasMore">
            <a href ng-click="provider.loadMore()" class="text-lowercase text-muted">
              <span ng-show="provider.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
              <span translate="translate.load_more_orders"></span>
            </a>
          </div>
        </div>

        <!-- Payments (sends multiple payments) -->
        <div ng-if="paramSection=='payments'">
          <tabset>
            <tab active="provider.PREPARE">
              <tab-heading>
                <!-- <i class="glyphicon glyphicon-bell"></i>&nbsp;&nbsp; --><span translate="translate.prepare" />
              </tab-heading>
              <div>
                <br>
                <div class="well well-sm">
                  <p>Type or paste your payments in this field.<br>
                    Payments must be in the following format:<br>
                    <pre>RECIPIENT,AMOUNT,MESSAGE_IS_PUBLIC,MESSAGE</pre>
                    Examples:<br>
                    <pre>{{symbol}}-CMAS-K37J-8J22-77H9X,500.01,true,Basic income payment for march<br>{{symbol}}-CMAS-K37J-8J22-77H9X,100.02<br>{{symbol}}-CMAS-K37J-8J22-77H9X,3,false,This message is encrypted</pre>
                    When done entering payments <a href ng-click="provider.load()">click here</a> to load them into the staging area.
                  </p>
                </div>
                <textarea class="form-control monospace" rows="4" ng-model="provider.text_input"></textarea>
              </div>
            </tab>
            <tab active="provider.STAGE">
              <tab-heading>
                <!-- <i class="glyphicon glyphicon-bell"></i>&nbsp;&nbsp; --><span translate="translate.staging" />
              </tab-heading>
              <div>
                <br>
                <div class="well well-sm">
                  <p>Please evaluate the payments as they are shown in the table below.<br>
                    If you consider the details to be correct <span ng-if="!provider.locked"><a href ng-click="provider.execute()">click here</a></span><span ng-if="provider.locked" class="text-primary"><s>click here</s></span> to execute them.<br><br>
                    There are <b>{{provider.payments.length}}</b> valid payments totalling <big><b>{{provider.totalNXT||'0'}} {{symbol}}</b></big>
                  </p>
                </div>                
                <table class="table">
                  <tr>
                    <th><i tooltip="confirmations" class="fa fa-cubes"></i></th>
                    <th translate="translate.status"></th>
                    <th translate="translate.recipient"></th>
                    <th translate="translate.amount"></th>
                    <th translate="translate.message"></th>
                    <th translate="translate.is_public"></th>
                  </tr>
                  <tr ng-repeat="p in provider.payments" ng-class="{danger: p.error}">
                    <td>
                      <span ng-show="p.confirmations !== undefined">
                        <span ng-if="p.confirmations <= 0"><i class="fa fa-spinner fa-spin text-muted"></i></span>
                        <span ng-if="p.confirmations > 0 && p.confirmations <= 10" class="text-danger"><b>{{p.confirmations}}</b></span>
                        <span ng-if="p.confirmations > 10" tooltip="{{p.confirmations}} confirmations">
                          <i class="fa fa-check text-success"></i>
                        </span>
                      </span>
                    </td>
                    <td>{{p.status}}</td>
                    <td nowrap><a href="#/accounts/{{p.recipientRS}}/activity/latest">{{p.recipientRS}}</a></td>
                    <td>{{p.amountNXT}} {{symbol}}</td>
                    <td>{{p.message}}</td>
                    <td ng-class="{'text-success': p.ispublic, 'text-danger': !p.ispublic}">{{p.ispublic}}</td>
                  </tr>
                </table>
              </div>
            </tab>
          </tabset>
        </div>
      </div>
    </div>
  </div>
</div>